(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{102:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),i=n(14),c=n.n(i),o=(n(102),n(7)),l=n.n(o),d=n(10),s=n(6),u=n(23),j=n(18),h=n(158),b=n(162),v=n(163),f=n(164),O=n(58),p=n(165),m=n(90),x=n(177),g=n(83),y=n.n(g),w=n(82),k=n.n(w),C=n(81),S=n.n(C),T=n(80),A=n.n(T),E=n(79),W=n.n(E),P=function(){var e=Object(j.f)(),t=Object(r.useState)(""),n=Object(s.a)(t,2),i=n[0],c=n[1],o=Object(r.useState)(null),u=Object(s.a)(o,2),g=u[0],w=u[1],C=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.clear(),window.location.href="/";case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(h.a,{style:{marginTop:"65px"},children:Object(a.jsx)(b.a,{children:Object(a.jsxs)(v.a,{children:[Object(a.jsxs)(f.a,{container:!0,style:{flexGrow:1},children:[Object(a.jsx)(f.a,{style:{cursor:"pointer"},onClick:function(){e.push("/"),c("/")},item:!0,children:Object(a.jsx)(O.a,{variant:"h4",children:"CWR"})}),Object(a.jsx)(f.a,{item:!0,children:Object(a.jsx)(p.a,{onClick:function(){e.push("/myfriendsposts"),c("/myfriendsposts")},style:{color:"white",backgroundColor:"/myfriendsposts"===i&&"red"},children:Object(a.jsx)(W.a,{})})}),Object(a.jsx)(f.a,{item:!0,children:Object(a.jsx)(p.a,{onClick:function(){e.push("/addfriend"),c("/addfriend")},style:{color:"white",backgroundColor:"/addfriend"===i&&"red"},children:Object(a.jsx)(A.a,{})})}),Object(a.jsx)(f.a,{item:!0,children:Object(a.jsx)(p.a,{onClick:function(){e.push("/friendrequest"),c("/friendrequest")},style:{color:"white",backgroundColor:"/friendrequest"===i&&"red"},children:Object(a.jsx)(S.a,{})})})]}),Object(a.jsx)(p.a,{style:{color:"white",backgroundColor:"/addpost"===i&&"red"},onClick:function(){return e.push("/addpost"),void c("/addpost")},children:Object(a.jsx)(k.a,{})}),Object(a.jsx)(p.a,{onClick:function(e){w(e.currentTarget)},style:{color:"white",backgroundColor:"/profile"===i&&"red"},children:Object(a.jsx)(y.a,{})})]})})}),Object(a.jsxs)(m.a,{id:"post-menu",anchorEl:g,keepMounted:!0,open:Boolean(g),onClose:function(){w(null)},children:[Object(a.jsx)(x.a,{onClick:function(){return e.push("/profile"),c("/profile"),void w(null)},children:"Profile"}),Object(a.jsx)(x.a,{onClick:C,children:" LogOut "})]})]})},F=n(15),R=n(9),$=n.n(R),I=n(84),L=n.n(I),N="http://127.0.0.1:8000",q=window.localStorage.getItem("token"),U={Authorization:"token ".concat(q)},_={Authorization:"token ".concat(q),"Content-Type":"application/json"},D={"X-CSRFToken":L.a.get("csrftoken")},G=Object(r.createContext)(),B=function(e){var t=e.reducer,n=e.initialState,i=e.children;return Object(a.jsx)(G.Provider,{value:Object(r.useReducer)(t,n),children:i})},z=function(){return Object(r.useContext)(G)},H=n(170),M=n(166),V=n(167),Y=n(178),J=n(171),X=n(172),K=n(173),Q=n(168),Z=n(169),ee=n(176),te=n(86),ne=n.n(te),ae=n(57),re=n.n(ae),ie=n(87),ce=n.n(ie),oe=function(e){var t,n,r,i=e.reply;return Object(a.jsxs)(M.a,{style:{width:"70%"},children:[Object(a.jsx)(V.a,{avatar:Object(a.jsx)(Y.a,{src:null===i||void 0===i||null===(t=i.profile)||void 0===t?void 0:t.image}),title:null===i||void 0===i||null===(n=i.profile)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.username,subheader:null===i||void 0===i?void 0:i.time}),Object(a.jsx)(Q.a,{children:Object(a.jsx)(O.a,{variant:"h5",children:null===i||void 0===i?void 0:i.title})})]})},le=function(e){var t,n,i,c,o,u=e.comment,j=z(),h=Object(s.a)(j,2);Object(F.a)(h[0]);var b=h[1],v=Object(r.useState)(!1),m=Object(s.a)(v,2),x=m[0],g=m[1],y=Object(r.useState)(""),w=Object(s.a)(y,2),k=w[0],C=w[1],S=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/addreply/"),method:"POST",headers:_,data:{commentid:null===u||void 0===u?void 0:u.id,text:k}}).then((function(e){var t=e.data;console.log(t),!1===t.error?(C(""),b({type:"RELOAE",value:t})):alert("Somthing is Wrong! Try Agane.")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(M.a,{children:[Object(a.jsx)(V.a,{avatar:Object(a.jsx)(Y.a,{src:null===u||void 0===u||null===(t=u.profile)||void 0===t?void 0:t.image}),title:null===u||void 0===u||null===(n=u.profile)||void 0===n||null===(i=n.user)||void 0===i?void 0:i.username,subheader:null===u||void 0===u?void 0:u.time}),Object(a.jsxs)(Q.a,{children:[Object(a.jsx)(O.a,{variant:"h5",children:null===u||void 0===u?void 0:u.title}),Object(a.jsxs)(Z.a,{onClick:function(){return g(!x)},style:{fontWeight:"bold"},children:["Reply(",null===u||void 0===u||null===(c=u.reply)||void 0===c?void 0:c.length,")"]})]}),!0===x&&Object(a.jsxs)(f.a,{style:{marginLeft:"30px"},container:!0,children:[Object(a.jsx)(ee.a,{style:{width:"70%"},id:"filled-basic",label:"Filled",variant:"filled",value:k,onChange:function(e){return C(e.target.value)},InputProps:{endAdornment:Object(a.jsx)(p.a,{disabled:0===(null===k||void 0===k?void 0:k.length),onClick:S,color:"primary",component:"span",children:Object(a.jsx)(re.a,{})})}}),Object(a.jsx)(f.a,{container:!0,direction:"column",children:null===u||void 0===u||null===(o=u.reply)||void 0===o?void 0:o.map((function(e,t){return Object(a.jsx)(oe,{reply:e},t)}))})]})]})},de=n(85),se=n.n(de),ue=n(88),je=n.n(ue),he=Object(H.a)({button:{},dropdown:{position:"fixed",width:200,top:"40%",left:"40%",transform:"translate(-40%, -40%)",border:"1px solid",zIndex:19999999999999,padding:"10px",display:"flex",flexDirection:"column"},sbutton:{color:"white",fontWeight:"bold",backgroundColor:"#595555","&:hover":{backgroundColor:"#717171"}}}),be=function(e){var t,n,i,c,o,u,h,b,v,m,g=e.item,y=e.fulldata,w=void 0!==y&&y,k=he(),C=z(),S=Object(s.a)(C,2),T=S[0].profile,A=S[1],E=Object(r.useState)(!1),W=Object(s.a)(E,2),P=W[0],F=W[1],R=Object(r.useState)(""),I=Object(s.a)(R,2),L=I[0],q=I[1],U=Object(r.useState)(!1),D=Object(s.a)(U,2),G=D[0],B=D[1],H=Object(j.f)(),te=function(){H.push("/post/".concat(g.id))},ae=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/delatepost/"),method:"POST",headers:_,data:{postid:null===g||void 0===g?void 0:g.id}}).then((function(e){console.log(e.data),0==e.data.error?(A({type:"RELOAE",value:e.data}),alert("Your Post is Delated!!"),B(!1),H.push("/")):alert("Something is Wrong, Try Again!")})).catch((function(e){alert("Something is Wrong, Try Again!")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/addlike/"),method:"POST",headers:_,data:{id:null===g||void 0===g?void 0:g.id}}).then((function(e){var t=e.data;console.log(t),!1===t.error?A({type:"RELOAE",value:t}):alert("Something is Wrong, Try Again!")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/addcomment/"),method:"POST",headers:_,data:{postid:null===g||void 0===g?void 0:g.id,title:L}}).then((function(e){var t=e.data;console.log(t),!1===t.error?(q(""),A({type:"RELOAE",value:t})):alert("Something is Wrong, Try Again!")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H.push("/editpost/".concat(g.id));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(M.a,{style:{marginBottom:"10px"},children:[Object(a.jsx)(V.a,{avatar:Object(a.jsx)(Y.a,{src:null===g||void 0===g||null===(t=g.profile)||void 0===t?void 0:t.image}),title:null===g||void 0===g||null===(n=g.profile)||void 0===n||null===(i=n.user)||void 0===i?void 0:i.username,subheader:null===g||void 0===g?void 0:g.time,action:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p.a,{className:k.button,onClick:function(){B(!G)},children:Object(a.jsx)(se.a,{})}),G?Object(a.jsx)(J.a,{onClickAway:function(){return B(!1)},children:Object(a.jsxs)(M.a,{className:k.dropdown,id:"simple-menu",keepMounted:!0,children:[Object(a.jsx)(x.a,{className:k.sbutton,onClick:te,children:"View Post"}),(null===T||void 0===T?void 0:T.id)===(null===g||void 0===g||null===(c=g.profile)||void 0===c?void 0:c.id)?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(x.a,{className:k.sbutton,onClick:ae,children:"Delate"}),Object(a.jsx)(x.a,{className:k.sbutton,onClick:de,children:"Edit Post"})]}):Object(a.jsx)(x.a,{className:k.sbutton,onClick:function(){var e;H.push("/friend/".concat(null===g||void 0===g||null===(e=g.profile)||void 0===e?void 0:e.id))},children:"Profile"})]})}):null]})}),Object(a.jsx)(X.a,{onClick:te,children:Object(a.jsx)(O.a,{style:{padding:"10px"},variant:"h5",component:"h2",children:null===g||void 0===g?void 0:g.title})}),null!==(null===g||void 0===g?void 0:g.image)&&Object(a.jsx)(X.a,{onClick:te,children:Object(a.jsx)(K.a,{style:{height:0,paddingTop:"56%"},image:null===g||void 0===g?void 0:g.image})}),(null!==(o=null!==(null===g||void 0===g?void 0:g.content))&&void 0!==o?o:0!==(null===g||void 0===g||null===(u=g.content)||void 0===u?void 0:u.length))&&Object(a.jsx)(X.a,{onClick:te,children:Object(a.jsx)(Q.a,{children:w?Object(a.jsx)(O.a,{children:null===g||void 0===g?void 0:g.content}):Object(a.jsx)(O.a,{children:(null===g||void 0===g||null===(h=g.content)||void 0===h?void 0:h.length)>100?null===g||void 0===g||null===(b=g.content)||void 0===b?void 0:b.substring(0,100):null===g||void 0===g?void 0:g.content})})}),Object(a.jsxs)(f.a,{container:!0,direction:"row",justify:"space-around",style:{padding:"10px"},children:[Object(a.jsxs)(Z.a,{onClick:ie,variant:"contained",color:"primary",startIcon:(null===g||void 0===g?void 0:g.like)?Object(a.jsx)(ne.a,{color:"secondary"}):Object(a.jsx)(ce.a,{color:"secondary"}),children:["Like(",null===g||void 0===g?void 0:g.totallike,")"]}),Object(a.jsxs)(Z.a,{variant:"contained",color:"primary",startIcon:Object(a.jsx)(je.a,{}),onClick:function(){return F(!P)},children:["Comment(",null===g||void 0===g||null===(v=g.comment)||void 0===v?void 0:v.length,")"]})]}),!0===P&&Object(a.jsxs)(f.a,{style:{padding:"10px"},container:!0,children:[Object(a.jsx)(ee.a,{value:L,onChange:function(e){return q(e.target.value)},style:{width:"100%"},id:"filled-basic",label:"Filled",variant:"filled",InputProps:{endAdornment:Object(a.jsx)(p.a,{disabled:0===(null===L||void 0===L?void 0:L.length),onClick:oe,color:"primary",component:"span",children:Object(a.jsx)(re.a,{})})}}),Object(a.jsx)(f.a,{container:!0,direction:"column",children:null===g||void 0===g||null===(m=g.comment)||void 0===m?void 0:m.map((function(e,t){return Object(a.jsx)(le,{comment:e},t)}))})]})]})})},ve=function(){var e=z(),t=Object(s.a)(e,2),n=t[0].reload;Object(F.a)(t[1]);var i=Object(r.useState)(null),c=Object(s.a)(i,2),o=c[0],l=c[1];return Object(r.useEffect)((function(){$.a.get("".concat(N,"/api/posts/"),{method:"GET",headers:U}).then((function(e){l(e.data)})).catch((function(e){console.log(e)}))}),[n]),Object(a.jsx)(a.Fragment,{children:null!==o?null===o||void 0===o?void 0:o.map((function(e,t){return Object(a.jsx)(be,{item:e},t)})):"Loading..."})},fe=n(92),Oe=function(){return Object(a.jsx)(fe.a,{children:Object(a.jsx)("img",{style:{width:"100%"},alt:"sidebarimage",src:"https://images.unsplash.com/photo-1581665611754-08d420f9590f?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=751&q=80"})})},pe=function(){return Object(a.jsx)(h.a,{maxWidth:"lg",children:Object(a.jsxs)(f.a,{container:!0,children:[Object(a.jsx)(f.a,{item:!0,md:8,sm:12,children:Object(a.jsx)(ve,{})}),Object(a.jsx)(f.a,{item:!0,md:4,sm:12,children:Object(a.jsx)(Oe,{})})]})})},me=n(25),xe=function(){var e,t=z(),n=Object(s.a)(t,2);Object(F.a)(n[0]);var i=n[1],c=Object(r.useState)(null),o=Object(s.a)(c,2),u=o[0],b=o[1],v=Object(r.useState)(null),p=Object(s.a)(v,2),m=p[0],x=p[1],g=Object(r.useState)(null),y=Object(s.a)(g,2),w=y[0],k=y[1],C=Object(j.f)(),S=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("title",u),t.append("content",m),null!=w&&t.append("image",w),e.next=6,$()({url:"".concat(N,"/api/posts/"),method:"POST",headers:_,data:t}).then((function(e){var t=e.data;!1===t.error?(i({type:"RELOAE",value:t}),C.push("/")):alert("Somthing is Wrong! Try Agane.")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(h.a,{children:[Object(a.jsx)(O.a,{component:"div",style:{padding:"20px"},align:"center",variant:"h3",children:"Add A New Post"}),Object(a.jsxs)(f.a,{container:!0,spacing:3,justify:"center",alignItems:"center",children:[Object(a.jsx)(f.a,{item:!0,sm:12,xs:12,md:6,children:Object(a.jsx)(ee.a,{onChange:function(e){return b(e.target.value)},id:"standard-full-width",label:"Title",style:{margin:8},placeholder:"Wright Title Under 100 characters",helperText:"Wright Title Under 100 characters",fullWidth:!0,margin:"normal"})}),Object(a.jsx)(f.a,{item:!0,sm:12,xs:12,md:6,children:Object(a.jsx)(ee.a,{onChange:function(e){return x(e.target.value)},id:"standard-full-width",label:"Contents",style:{margin:8},placeholder:"Write your Contents..",helperText:"Write your Contents..",fullWidth:!0,margin:"normal"})}),Object(a.jsx)(f.a,{item:!0,sm:12,xs:12,md:6,children:Object(a.jsx)(ee.a,{onChange:function(e){return k(e.target.files[0])},id:"standard-full-width",label:"Image",style:{margin:8},placeholder:"Uplode A Image",helperText:"Uplode A Image",fullWidth:!0,margin:"normal",type:"file"})}),Object(a.jsx)(f.a,(e={item:!0,align:"center"},Object(me.a)(e,"item",!0),Object(me.a)(e,"xm",12),Object(me.a)(e,"xs",12),Object(me.a)(e,"md",12),Object(me.a)(e,"children",Object(a.jsx)(Z.a,{onClick:S,variant:"contained",size:"large",color:"primary",disabled:null===u||0===(null===u||void 0===u?void 0:u.length),children:"Add Post"})),e))]})]})},ge=n(174),ye=n(175),we=n(89),ke=n.n(we),Ce=Object(H.a)({button:{position:"relative"},dropdown:{position:"absolute",backgroundColor:"#8CABF6",right:"50px",bottom:"30px"}}),Se=function(e){var t,n,i,c,o=e.friend,u=e.asFriend,h=void 0!==u&&u,b=z(),v=Object(s.a)(b,2);Object(F.a)(v[0]);var f=v[1],O=Ce(),m=Object(r.useState)(!1),g=Object(s.a)(m,2),y=g[0],w=g[1],k=Object(j.f)(),C=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/sendfriendrequest/"),method:"POST",headers:_,data:{id:null===o||void 0===o?void 0:o.id}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e,"error")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/unfriend/"),method:"POST",headers:_,data:{id:null===o||void 0===o?void 0:o.id}}).then((function(e){!1===e.data.error?f({type:"RELOAE",value:e.data}):alert("Somthing is Wrong! Try Agane.")})).catch((function(e){alert("Somthing is Wrong! Try Agane.")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(ge.a,{children:[Object(a.jsx)("img",{style:{width:"100%"},src:null===o||void 0===o?void 0:o.image,alt:null===o||void 0===o||null===(t=o.user)||void 0===t?void 0:t.username}),Object(a.jsx)(ye.a,{title:null===o||void 0===o||null===(n=o.user)||void 0===n?void 0:n.username,subtitle:"".concat(null===o||void 0===o||null===(i=o.user)||void 0===i?void 0:i.first_name," ").concat(null===o||void 0===o||null===(c=o.user)||void 0===c?void 0:c.last_name," "),actionIcon:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p.a,{className:O.button,onClick:function(){return w(!y)},children:Object(a.jsx)(ke.a,{})}),y?Object(a.jsx)(J.a,{onClickAway:function(){return w(!1)},children:Object(a.jsxs)(M.a,{className:O.dropdown,children:[Object(a.jsx)(x.a,{onClick:function(){k.push("/friend/".concat(null===o||void 0===o?void 0:o.id))},children:"Profile"}),h?Object(a.jsx)(x.a,{onClick:S,children:"Unfriend"}):Object(a.jsx)(x.a,{onClick:C,children:"Add Friend"})]})}):null]})})]})},Te=function(e){var t=e.friends,n=e.asFriend,r=void 0!==n&&n;return console.log(t,"$$$$$$friend"),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O.a,{align:"center",variant:"h3",children:"Friends"}),Object(a.jsx)(f.a,{container:!0,lg:12,spacing:2,children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(a.jsx)(f.a,{sm:4,item:!0,children:Object(a.jsx)(Se,{asFriend:r,friend:e},t)})}))})]})},Ae=function(e){var t=e.posts;return Object(a.jsx)(a.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(a.jsx)(be,{item:e},t)}))})},Ee=function(){var e,t,n,i,c,o=z(),l=Object(s.a)(o,2),d=l[0].profile;Object(F.a)(l[1]);var u=Object(r.useState)(0),h=Object(s.a)(u,2),b=h[0],v=h[1],p=Object(j.f)();return Object(a.jsx)(a.Fragment,{children:null!==d&&Object(a.jsxs)(f.a,{style:{marginTop:"30px"},children:[Object(a.jsxs)(f.a,{container:!0,direction:"column",alignItems:"center",children:[Object(a.jsx)("img",{style:{width:"20%",borderRadius:"20px"},src:null===d||void 0===d?void 0:d.image,alt:null===d||void 0===d||null===(e=d.user)||void 0===e?void 0:e.username}),Object(a.jsx)(O.a,{variant:"h5",children:null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.username}),Object(a.jsxs)(O.a,{variant:"h3",children:[null===d||void 0===d||null===(n=d.user)||void 0===n?void 0:n.first_name," ",null===d||void 0===d||null===(i=d.user)||void 0===i?void 0:i.last_name]}),Object(a.jsx)(O.a,{variant:"h5",children:null===d||void 0===d||null===(c=d.user)||void 0===c?void 0:c.email}),Object(a.jsx)(O.a,{children:null===d||void 0===d?void 0:d.bio}),Object(a.jsx)(Z.a,{onClick:function(){p.push("/editprofile")},style:{margin:"10px"},variant:"contained",color:"secondary",children:"Edit"})]}),Object(a.jsx)(M.a,{style:{backgroundColor:"#2e73ab"},children:Object(a.jsxs)(f.a,{style:{padding:"10px"},container:!0,direction:"row",justify:"space-around",children:[Object(a.jsx)(Z.a,{onClick:function(){return v(0)},color:"primary",variant:"contained",children:"Posts"}),Object(a.jsx)(Z.a,{onClick:function(){return v(1)},color:"primary",variant:"contained",children:"Friends"})]})}),0===b?Object(a.jsx)(Ae,{posts:null===d||void 0===d?void 0:d.posts}):Object(a.jsx)(Te,{asFriend:!0,friends:null===d||void 0===d?void 0:d.friends})]})})},We=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)(""),o=Object(s.a)(c,2),u=o[0],j=o[1],h=Object(r.useState)(""),b=Object(s.a)(h,2),v=b[0],p=b[1],m=Object(r.useState)(""),x=Object(s.a)(m,2),g=x[0],y=x[1],w=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/login/"),method:"POST",headers:D,data:{username:u,password:v}}).then((function(e){var t=e.data;t.token?(console.log(t.token),window.localStorage.setItem("token",t.token),window.location.href="/"):alert("Something is Wrong!Try Again!!")})).catch((function(e){alert("Something is Wrong!Try Again!!")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v===g){e.next=3;break}return alert("Confirm Password!!"),e.abrupt("return");case 3:return e.next=5,$()({url:"".concat(N,"/api/register/"),method:"POST",headers:D,data:{username:u,password:v}}).then((function(e){var t=e.data;!1===t.error?(alert(t.message),i(!1)):alert(t.message)})).catch((function(e){alert("Something is Wrong!Try Again!!")}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(f.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"80vh"},children:[Object(a.jsx)(O.a,{variant:"h4",children:n?"Register Now":"Login Now"}),Object(a.jsxs)(f.a,{item:!0,xs:12,md:6,sm:6,children:[Object(a.jsx)(ee.a,{onChange:function(e){return j(e.target.value)},style:{width:"100%",margin:"10px 0"},variant:"outlined",label:"Username"}),Object(a.jsx)(ee.a,{onChange:function(e){return p(e.target.value)},style:{width:"100%",margin:"10px 0"},variant:"outlined",label:"Password",type:"password"}),n&&Object(a.jsx)(ee.a,{onChange:function(e){return y(e.target.value)},style:{width:"100%",margin:"10px 0"},variant:"outlined",label:"Confirm Password",type:"password"})]}),n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Z.a,{onClick:k,color:"primary",variant:"contained",children:"Register"}),Object(a.jsx)(Z.a,{onClick:function(){return i(!1)},color:"inherit",children:"Have an account, Login Now!"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Z.a,{onClick:w,color:"primary",variant:"contained",children:"Login"}),Object(a.jsx)(Z.a,{onClick:function(){return i(!0)},color:"inherit",children:"No Account, Register Now!"})]})]})},Pe=function(e){var t,n,i,c,o=e.friend,u=z(),j=Object(s.a)(u,2);Object(F.a)(j[0]);var h=j[1],b=Object(r.useState)(0),v=Object(s.a)(b,2),p=v[0],m=v[1],x=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/sendfriendrequest/"),method:"POST",headers:_,data:{id:null===o||void 0===o?void 0:o.id}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e,"error")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/unfriend/"),method:"POST",headers:_,data:{id:null===o||void 0===o?void 0:o.id}}).then((function(e){!1===e.data.error?h({type:"RELOAE",value:e.data}):alert("Somthing is Wrong! Try Agane.")})).catch((function(e){alert("Somthing is Wrong! Try Agane.")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(f.a,{style:{marginTop:"30px"},children:null!==o&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(f.a,{container:!0,direction:"column",alignItems:"center",children:[Object(a.jsx)("img",{style:{width:"20%",borderRadius:"20px"},src:null===o||void 0===o?void 0:o.image,alt:null===o||void 0===o||null===(t=o.user)||void 0===t?void 0:t.username}),Object(a.jsx)(O.a,{variant:"h5",children:null===o||void 0===o||null===(n=o.user)||void 0===n?void 0:n.username}),Object(a.jsxs)(O.a,{variant:"h3",children:[null===o||void 0===o||null===(i=o.user)||void 0===i?void 0:i.first_name," ",null===o||void 0===o||null===(c=o.user)||void 0===c?void 0:c.last_name]}),Object(a.jsx)(O.a,{children:null===o||void 0===o?void 0:o.bio})]}),Object(a.jsx)(M.a,{style:{backgroundColor:"#2e73ab"},children:Object(a.jsxs)(f.a,{style:{padding:"10px"},container:!0,direction:"row",justify:"space-around",children:[Object(a.jsx)(Z.a,{onClick:function(){return m(0)},color:"primary",variant:"contained",children:"Friends"}),Object(a.jsx)(Z.a,{onClick:function(){return m(1)},color:"primary",variant:"contained",children:"Posts"}),(null===o||void 0===o?void 0:o.myfriend)?Object(a.jsx)(Z.a,{onClick:g,color:"secondary",variant:"contained",children:"Unfriend"}):Object(a.jsx)(Z.a,{onClick:x,color:"secondary",variant:"contained",children:"Add Friend"})]})}),0===p?Object(a.jsx)(Te,{friends:null===o||void 0===o?void 0:o.friends}):Object(a.jsx)(Ae,{posts:null===o||void 0===o?void 0:o.posts})]})})},Fe=function(e){var t,n,r,i=e.friend,c=e.gteFriendData,o=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/sendfriendrequest/"),method:"POST",headers:_,data:{id:null===i||void 0===i?void 0:i.id}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e,"error")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(M.a,{children:Object(a.jsxs)(f.a,{style:{padding:"10px"},direction:"row",container:!0,children:[Object(a.jsx)(Y.a,{style:{},src:null===i||void 0===i?void 0:i.image}),Object(a.jsxs)(f.a,{container:!0,direction:"column",children:[Object(a.jsx)(O.a,{children:null===i||void 0===i||null===(t=i.user)||void 0===t?void 0:t.username}),Object(a.jsxs)(O.a,{children:[null===i||void 0===i||null===(n=i.user)||void 0===n?void 0:n.first_name," ",null===i||void 0===i||null===(r=i.user)||void 0===r?void 0:r.last_name]}),Object(a.jsxs)(f.a,{container:!0,direction:"row",justify:"space-evenly",children:[Object(a.jsx)(Z.a,{onClick:o,color:"primary",variant:"contained",children:"Add Friend"}),Object(a.jsx)(Z.a,{onClick:function(){return c(null===i||void 0===i?void 0:i.id)},color:"secondary",variant:"contained",children:"View Profile"})]})]})]})})},Re=function(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)(null),o=Object(s.a)(c,2),u=o[0],j=o[1],b=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/friendprofile/"),headers:_,method:"POST",data:{id:t}}).then((function(e){j(e.data[0])})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/users/"),headers:U}).then((function(e){i(e.data)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.jsx)(h.a,{children:Object(a.jsxs)(f.a,{container:!0,children:[Object(a.jsxs)(f.a,{item:!0,xs:12,xl:4,sm:4,md:4,lg:4,children:[Object(a.jsx)(O.a,{variant:"h5",align:"center",children:"Add Friends"}),null===n||void 0===n?void 0:n.map((function(e,t){return Object(a.jsx)(Fe,{friend:e,gteFriendData:b},t)}))]}),Object(a.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,xl:8,children:Object(a.jsx)(Pe,{friend:u})})]})})},$e=function(){var e=z(),t=Object(s.a)(e,2),n=t[0].reload;Object(F.a)(t[1]);var i=Object(r.useState)(null),c=Object(s.a)(i,2),o=c[0],l=c[1];return Object(r.useEffect)((function(){$.a.get("".concat(N,"/api/friendposts/"),{method:"GET",headers:U}).then((function(e){l(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[n]),Object(a.jsx)(h.a,{maxWidth:"lg",children:Object(a.jsxs)(f.a,{container:!0,children:[Object(a.jsx)(f.a,{item:!0,md:8,sm:12,children:Object(a.jsx)(a.Fragment,{children:null!==o?null===o||void 0===o?void 0:o.map((function(e,t){return Object(a.jsx)(be,{item:e},t)})):"Loading..."})}),Object(a.jsx)(f.a,{item:!0,md:4,sm:12,children:Object(a.jsx)(Oe,{})})]})})},Ie=function(){var e=z(),t=Object(s.a)(e,2),n=t[0].profile,i=t[1],c=Object(r.useState)(""),o=Object(s.a)(c,2),u=o[0],b=o[1],v=Object(r.useState)(""),p=Object(s.a)(v,2),m=p[0],x=p[1],g=Object(r.useState)(""),y=Object(s.a)(g,2),w=y[0],k=y[1],C=Object(r.useState)(""),S=Object(s.a)(C,2),T=S[0],A=S[1],E=Object(r.useState)(null),W=Object(s.a)(E,2),P=W[0],F=W[1],R=Object(j.f)();Object(r.useEffect)((function(){var e,t,a;b(null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.first_name),x(null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.last_name),k(null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.email),A(null===n||void 0===n?void 0:n.bio)}),[]);var I=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("bio",T),null!==P&&t.append("image",P),e.next=5,$()({url:"".concat(N,"/api/updateprofile/"),method:"POST",headers:_,data:t}).then((function(e){0==e.data.error?(i({type:"RELOAE",value:e.data}),R.push("/profile")):alert("Something is Wrong, Try Again!")})).catch((function(e){alert("Something is Wrong, Try Again!")}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/updateuser/"),method:"POST",headers:_,data:{firstname:u,lasttname:m,email:w}}).then((function(e){0==e.data.error?(i({type:"RELOAE",value:e.data}),R.push("/profile")):alert("Something is Wrong, Try Again!")})).catch((function(e){alert("Something is Wrong, Try Again!")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(h.a,{children:[Object(a.jsx)(O.a,{component:"div",style:{padding:"20px"},align:"center",variant:"h3",children:"Edti Profile"}),Object(a.jsxs)(f.a,{container:!0,spacing:3,justify:"center",alignItems:"center",children:[Object(a.jsx)(f.a,{item:!0,sm:6,xs:12,md:6,children:Object(a.jsx)(ee.a,{value:T,onChange:function(e){return A(e.target.value)},id:"standard-full-width",label:"Write About Your Self",style:{margin:8},placeholder:"Bio",fullWidth:!0,margin:"normal"})}),Object(a.jsx)(f.a,{item:!0,sm:6,xs:12,md:6,children:Object(a.jsx)(ee.a,{onChange:function(e){return F(e.target.files[0])},id:"standard-full-width",style:{margin:8},placeholder:"Profile Image",fullWidth:!0,margin:"normal",helperText:"Uplode Profile Picture",type:"file"})}),Object(a.jsx)(Z.a,{onClick:I,color:"primary",variant:"contained",children:"Update"})]}),Object(a.jsxs)(f.a,{container:!0,spacing:3,justify:"center",alignItems:"center",children:[Object(a.jsx)(f.a,{item:!0,sm:6,xs:12,md:6,children:Object(a.jsx)(ee.a,{value:u,onChange:function(e){return b(e.target.value)},id:"standard-full-width",label:"First Name",style:{margin:8},placeholder:"First Name",fullWidth:!0,margin:"normal"})}),Object(a.jsx)(f.a,{item:!0,sm:6,xs:12,md:6,children:Object(a.jsx)(ee.a,{value:m,onChange:function(e){return x(e.target.value)},id:"standard-full-width",label:"Last Name",style:{margin:8},placeholder:"Last name",fullWidth:!0,margin:"normal"})}),Object(a.jsx)(f.a,{item:!0,sm:12,xs:12,md:12,children:Object(a.jsx)(ee.a,{onChange:function(e){return k(e.target.value)},value:w,id:"standard-full-width",label:"Email",style:{margin:8},placeholder:"Email",fullWidth:!0,margin:"normal"})}),Object(a.jsx)(Z.a,{onClick:L,color:"primary",variant:"contained",children:"Update"})]})]})},Le=function(){var e=Object(j.g)().id,t=z(),n=Object(s.a)(t,2),i=n[0].reload;Object(F.a)(n[1]);var c=Object(r.useState)(null),o=Object(s.a)(c,2),l=o[0],d=o[1];return Object(r.useEffect)((function(){$.a.get("".concat(N,"/api/posts/").concat(e,"/"),{method:"GET",headers:U}).then((function(e){d(e.data[0]),console.log(e.data[0])})).catch((function(e){console.log(e)}))}),[i]),Object(a.jsx)(h.a,{children:null!==l&&Object(a.jsx)(be,{item:l,fulldata:!0})})},Ne=function(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),n=t[0],i=t[1],c=z(),o=Object(s.a)(c,2),u=o[0].reload;Object(F.a)(o[1]);var h=Object(j.g)().id;return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/friendprofile/"),headers:_,method:"POST",data:{id:h}}).then((function(e){i(e.data[0]),console.log(e.data[0])})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u,h]),Object(a.jsx)(a.Fragment,{children:null!==n?Object(a.jsx)(Pe,{friend:n}):Object(a.jsx)(O.a,{variant:"h3",children:"Loding..."})})},qe=function(e){var t,n,r,i,c,o,u,h=e.item,b=z(),v=Object(s.a)(b,2);Object(F.a)(v[0]);var p=v[1],m=Object(j.f)(),x=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/deletesendfriendrequest/"),headers:_,method:"POST",data:{sender:null===h||void 0===h||null===(t=h.sender)||void 0===t?void 0:t.id,receiver:null===h||void 0===h||null===(n=h.receiver)||void 0===n?void 0:n.id}}).then((function(e){console.log(e.data),!1===e.data.error?p({type:"RELOAE",value:e.data}):alert("Something is Wrong! Try Again!!")})).catch((function(e){alert("Something is Wrong! Try Again!!")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/acceptfriendrequest/"),headers:_,method:"POST",data:{senderid:null===h||void 0===h||null===(t=h.sender)||void 0===t?void 0:t.id}}).then((function(e){console.log(e.data),!1===e.data.error?p({type:"RELOAE",value:e.data}):alert("Something is Wrong! Try Again!!")})).catch((function(e){alert("Something is Wrong! Try Again!!")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(M.a,{children:[Object(a.jsx)(V.a,{avatar:Object(a.jsx)(Y.a,{style:{},src:null===h||void 0===h||null===(t=h.sender)||void 0===t?void 0:t.image}),title:"".concat(null===h||void 0===h||null===(n=h.sender)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.first_name," ").concat(null===h||void 0===h||null===(i=h.sender)||void 0===i||null===(c=i.user)||void 0===c?void 0:c.last_name),subheader:"".concat(null===h||void 0===h||null===(o=h.sender)||void 0===o||null===(u=o.user)||void 0===u?void 0:u.username)}),Object(a.jsxs)(Q.a,{children:[Object(a.jsx)(O.a,{variant:"span",children:null===h||void 0===h?void 0:h.time}),Object(a.jsxs)(f.a,{container:!0,direction:"row",justify:"space-around",children:[Object(a.jsx)(Z.a,{onClick:g,color:"secondary",variant:"contained",children:"accept"}),Object(a.jsx)(Z.a,{onClick:x,color:"inherit",variant:"contained",children:"reject"}),Object(a.jsx)(Z.a,{onClick:function(){var e;m.push("/friend/".concat(null===h||void 0===h||null===(e=h.sender)||void 0===e?void 0:e.id))},color:"primary",variant:"contained",children:"View Profile"})]})]})]})},Ue=function(e){var t=e.received;return Object(a.jsxs)(fe.a,{children:[Object(a.jsx)(O.a,{align:"center",variant:"h4",children:"Friend Request I Get"}),null!==t?null===t||void 0===t?void 0:t.map((function(e,t){return Object(a.jsx)(qe,{item:e},t)})):Object(a.jsx)(O.a,{children:"No Friend Request"})]})},_e=function(e){var t,n,r,i,c,o,u,h=e.item,b=z(),v=Object(s.a)(b,2);Object(F.a)(v[0]);var p=v[1],m=Object(j.f)(),x=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/deletesendfriendrequest/"),headers:_,method:"POST",data:{sender:null===h||void 0===h||null===(t=h.sender)||void 0===t?void 0:t.id,receiver:null===h||void 0===h||null===(n=h.receiver)||void 0===n?void 0:n.id}}).then((function(e){console.log(e.data),!1===e.data.error?p({type:"RELOAE",value:e.data}):alert("Something is Wrong! Try Again!!")})).catch((function(e){alert("Something is Wrong! Try Again!!")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(M.a,{children:[Object(a.jsx)(V.a,{avatar:Object(a.jsx)(Y.a,{style:{},src:null===h||void 0===h||null===(t=h.receiver)||void 0===t?void 0:t.image}),title:"".concat(null===h||void 0===h||null===(n=h.receiver)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.first_name," ").concat(null===h||void 0===h||null===(i=h.receiver)||void 0===i||null===(c=i.user)||void 0===c?void 0:c.last_name),subheader:"".concat(null===h||void 0===h||null===(o=h.receiver)||void 0===o||null===(u=o.user)||void 0===u?void 0:u.username)}),Object(a.jsxs)(Q.a,{children:[Object(a.jsx)(O.a,{variant:"span",children:null===h||void 0===h?void 0:h.time}),Object(a.jsxs)(f.a,{container:!0,direction:"row",justify:"space-around",children:[Object(a.jsx)(Z.a,{onClick:x,color:"secondary",variant:"contained",children:"Cancel"}),Object(a.jsx)(Z.a,{onClick:function(){var e;m.push("/friend/".concat(null===h||void 0===h||null===(e=h.receiver)||void 0===e?void 0:e.id))},color:"primary",variant:"contained",children:"View Profile"})]})]})]})},De=function(e){var t=e.send;return Object(a.jsxs)(fe.a,{children:[Object(a.jsx)(O.a,{align:"center",variant:"h4",children:"Friend Request I send"}),null!==t?null===t||void 0===t?void 0:t.map((function(e,t){return Object(a.jsx)(_e,{item:e},t)})):Object(a.jsx)(O.a,{children:"No Sended Friend Request"})]})},Ge=function(){var e=z(),t=Object(s.a)(e,2),n=t[0].reload;Object(F.a)(t[1]);var i=Object(r.useState)(null),c=Object(s.a)(i,2),o=c[0],u=c[1],j=Object(r.useState)(null),b=Object(s.a)(j,2),v=b[0],O=b[1];return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/sendfriendrequest/"),method:"GET",headers:U}).then((function(e){u(e.data)})).catch((function(e){console.log(e,"error")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(r.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/receivedfriendrequest/"),method:"GET",headers:U}).then((function(e){O(e.data)})).catch((function(e){console.log(e,"error")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(a.jsx)(h.a,{maxWidth:"lg",children:Object(a.jsxs)(f.a,{container:!0,children:[Object(a.jsx)(f.a,{xs:12,md:6,sm:6,children:Object(a.jsx)(De,{send:o})}),Object(a.jsx)(f.a,{xs:12,md:6,sm:6,children:Object(a.jsx)(Ue,{received:v})})]})})},Be=function(){var e,t=z(),n=Object(s.a)(t,2),i=n[0].reload,c=n[1],o=Object(r.useState)(""),u=Object(s.a)(o,2),b=u[0],v=u[1],p=Object(r.useState)(""),m=Object(s.a)(p,2),x=m[0],g=m[1],y=Object(r.useState)(null),w=Object(s.a)(y,2),k=w[0],C=w[1],S=Object(j.f)(),T=Object(j.g)().id;Object(r.useEffect)((function(){$.a.get("".concat(N,"/api/posts/").concat(T,"/"),{method:"GET",headers:U}).then((function(e){var t=e.data[0];v(t.title),g(t.content)})).catch((function(e){console.log(e)}))}),[i]);var A=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("title",b),t.append("content",x),null!=k&&t.append("image",k),e.next=6,$()({url:"".concat(N,"/api/posts/").concat(T,"/"),method:"POST",headers:_,data:t}).then((function(e){var t=e.data;!1===t.error?(c({type:"RELOAE",value:t}),S.push("/")):alert("Somthing is Wrong! Try Agane.")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(h.a,{children:[Object(a.jsx)(O.a,{component:"div",style:{padding:"20px"},align:"center",variant:"h3",children:"Add A New Post"}),Object(a.jsxs)(f.a,{container:!0,spacing:3,justify:"center",alignItems:"center",children:[Object(a.jsx)(f.a,{item:!0,sm:12,xs:12,md:6,children:Object(a.jsx)(ee.a,{onChange:function(e){return v(e.target.value)},id:"standard-full-width",label:"Title",style:{margin:8},placeholder:"Wright Title Under 100 characters",helperText:"Wright Title Under 100 characters",fullWidth:!0,margin:"normal",value:b})}),Object(a.jsx)(f.a,{item:!0,sm:12,xs:12,md:6,children:Object(a.jsx)(ee.a,{onChange:function(e){return g(e.target.value)},id:"standard-full-width",label:"Contents",style:{margin:8},placeholder:"Write your Contents..",helperText:"Write your Contents..",fullWidth:!0,margin:"normal",value:x})}),Object(a.jsx)(f.a,{item:!0,sm:12,xs:12,md:6,children:Object(a.jsx)(ee.a,{onChange:function(e){return C(e.target.files[0])},id:"standard-full-width",label:"Image",style:{margin:8},placeholder:"Uplode A Image",helperText:"Uplode A Image",fullWidth:!0,margin:"normal",type:"file"})}),Object(a.jsx)(f.a,(e={item:!0,align:"center"},Object(me.a)(e,"item",!0),Object(me.a)(e,"xm",12),Object(me.a)(e,"xs",12),Object(me.a)(e,"md",12),Object(me.a)(e,"children",Object(a.jsx)(Z.a,{onClick:A,variant:"contained",size:"large",color:"primary",disabled:null===b||0===(null===b||void 0===b?void 0:b.length),children:"Edit Post"})),e))]})]})},ze=function(){var e=z(),t=Object(s.a)(e,2),n=t[0],i=n.profile,c=n.reload,o=t[1];return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/profile/"),headers:U}).then((function(e){o({type:"PROFILE",value:e.data[0]})})).catch((function(e){o({type:"PROFILE",value:null}),console.log(e,"$$$ERROR$$$$$$$$$$$$$$$$$$$$$$$")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]),Object(a.jsx)(a.Fragment,{children:null!==i?Object(a.jsxs)(u.a,{children:[Object(a.jsx)(P,{}),Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/",component:pe}),Object(a.jsx)(j.a,{exact:!0,path:"/addpost",component:xe}),Object(a.jsx)(j.a,{exact:!0,path:"/profile",component:Ee}),Object(a.jsx)(j.a,{exact:!0,path:"/editprofile",component:Ie}),Object(a.jsx)(j.a,{exact:!0,path:"/addfriend",component:Re}),Object(a.jsx)(j.a,{exact:!0,path:"/myfriendsposts",component:$e}),Object(a.jsx)(j.a,{exact:!0,path:"/friendrequest",component:Ge}),Object(a.jsx)(j.a,{exact:!0,path:"/post/:id",component:Le}),Object(a.jsx)(j.a,{exact:!0,path:"/friend/:id",component:Ne}),Object(a.jsx)(j.a,{exact:!0,path:"/editpost/:id",component:Be})]})]}):Object(a.jsx)(u.a,{children:Object(a.jsx)(j.a,{exact:!0,path:"/",component:We})})})},He=n(50),Me=function(e,t){switch(console.log(t.type),t.type){case"RELOAE":return Object(He.a)(Object(He.a)({},e),{},{reload:t.value});case"PROFILE":return Object(He.a)(Object(He.a)({},e),{},{profile:t.value});default:return e}};c.a.render(Object(a.jsx)(B,{reducer:Me,initialState:{reload:null,profile:null},children:Object(a.jsx)(ze,{})}),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.3fff56da.chunk.js.map